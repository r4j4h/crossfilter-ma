{"version":3,"file":"crossfilter-ma.min.js","sources":["crossfilter-ma.js"],"names":["_crossfilterMA","d3","crossfilter","crossfilterMA","version","constants","DEFAULT_MOVING_AVERAGE_NODES","accumulateGroupForNDayMovingAverage","sourceGroup","ndays","rolldownMode","debugMode","all","Error","keyAccessor","d","key","valueAccessor","value","_","rolldown","_debug","cumulate","accumulatedAll","map","i","arr","days","numsToAverage","thisCumulate","thisAverage","thisResult","targetDay","push","returnObj","rollingAverage","top","apply","arguments","fullDates","myDx","myDimensionDate","dimension","myGroupingOnDate","group","reducer","reduce","p","v","selDate","selValue","myValue","quantity","orderedDates","Object","keys","sort","thisDayIndex","indexOf","targetDayId","targetDayBlock","targetDayValue","accumulateGroupForPercentageChange","thisDay","prevDay","perc","diff","prop","percentageChange","thisDayKey","thisDayValue","prevDayKey","prevDayValue","prevDayId","prevDayBlock","define","amd","module","exports","_d3","require","_crossfilter","this"],"mappings":"CAkBA,WAAc,QAASA,GAAeC,EAAIC,GACtC,YASJ,IAAIC,KAEJA,GAAcC,QAAU,YAExBD,EAAcE,WACVC,6BAA8B,EAGlC,IAAIH,GAAgBA,KAgBpBA,GAAcI,oCAAsC,SAAUC,EAAaC,EAAOC,EAAcC,GAC5F,IAAMH,IAAgBA,EAAYI,KAAkC,kBAApBJ,GAAYI,IACxD,KAAM,IAAIC,OAAO,wCAIrBJ,GAA2B,mBAAVA,GAA0BA,EAAQN,EAAcE,UAAUC,6BAC3EK,EAAmC,mBAAdA,KAAgCA,GAAY,EACjED,EAAyC,mBAAjBA,KAAmCA,GAAe,CAE1E,IAAII,GAAc,SAAUC,GACxB,MAAOA,GAAEC,KAETC,EAAgB,SAAUF,GAC1B,MAAOA,GAAEG,MAGb,QAQIT,MAAO,SAAUU,GACb,MAAkB,mBAANA,GACDV,OAEXA,EAAQU,IAUZC,SAAU,SAAUD,GAChB,MAAkB,mBAANA,GACDT,OAEXA,IAAiBS,IAUrBE,OAAQ,SAAUF,GACd,MAAkB,mBAANA,GACDR,OAEXA,IAAcQ,IAGlBP,IAAK,WACD,GAAIU,GAAW,EACXV,EAAMJ,EAAYI,MAClBW,EAAiBX,EAAIY,IAAK,SAAUT,EAAGU,EAAGC,GAW1C,IARA,GAAIC,GAAOlB,EAEPmB,EAAgB,EAChBC,EAAe,EACfC,EAAc,EAEdC,OAEMJ,EAAO,GAAI,CACjB,GAAIK,GAAaN,EAAID,EAAIE,EAEzB,KAAMK,IAActB,EAChB,KAGCsB,KAEDJ,IACAC,GAAgBG,EAAUd,MACrBP,GACDoB,EAAWE,MAAQjB,IAAOgB,EAAUhB,IAAKE,MAASc,EAAUd,SAOxEU,IACAC,GAAgBd,EAAEG,MAEbP,IACDW,GAAYP,EAAEG,MACda,EAAWE,MAAQjB,IAAOD,EAAEC,IAAKE,MAASH,EAAEG,SAGhDY,EAAcD,EAAeD,EAERnB,EAAhBmB,IAA0BlB,IAC3BoB,EAAc,EAGlB,IAAII,IACAlB,IAAgBD,EAAEC,IAClBE,MAAgBH,EAAEG,MAClBiB,eAAgBL,EAUpB,OAPKnB,KACDuB,EAAUb,QACNC,SAAYA,EACZS,WAAYA,IAIbG,GAGX,OAAOX,IAGXa,IAAK,WACD,GAAId,GAAW,EACXV,EAAMJ,EAAY4B,IAAIC,MAAO7B,EAAa8B,WAC1CC,KAEAC,EAAOtC,EAAaU,GACpB6B,EAAkBD,EAAKE,UAAW,SAAU3B,GAC5C,MAAOA,GAAEC,MAET2B,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQjC,KAER,IAAIW,GAAiBX,EAAIY,IAAK,SAAUT,GAcpC,IAZA,GAAIsC,GAAeC,OAAOC,KAAMhB,GAAYiB,OACxCC,EAAeJ,EAAaK,QAAS5C,EAAaC,IAGlDY,EAAOlB,EAEPmB,EAAgB,EAChBC,EAAe,EACfC,EAAc,EAEdC,OAEMJ,EAAO,GAAI,CAEjB,GAAIgC,GAAcN,EAAcI,EAAe9B,EAE/C,KAAMgC,IAAgBjD,EAClB,KAGJ,IAAKiD,EAAc,CACf,GAAIC,GAAiBrB,EAAWoB,GAC5BE,EAAiBD,EAAeT,OAEpCvB,KACAC,GAAgBgC,EAEXlD,GACDoB,EAAWE,MAAQjB,IAAO2C,EAAazC,MAAS2C,KAK5DjC,IACAC,GAAgBd,EAAEG,MAGbP,IACDW,GAAYP,EAAEG,MACda,EAAWE,MAAQjB,IAAOD,EAAEC,IAAKE,MAASH,EAAEG,SAGhDY,EAAcD,EAAeD,EAERnB,EAAhBmB,IAA0BlB,IAC3BoB,EAAc,EAGlB,IAAII,IACAlB,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTiB,eAAgBL,EAUpB,OAPKnB,KACDuB,EAAUb,QACNC,SAAYA,EACZS,WAAYA,IAIbG,GAGX,OAAOX,KAMnB,IAAIpB,GAAgBA,KA+NZ,OAjNRA,GAAc2D,mCAAqC,SAAUtD,EAAaG,GACtE,IAAMH,IAAgBA,EAAYI,KAAkC,kBAApBJ,GAAYI,IACxD,KAAM,IAAIC,OAAO,wCAIrBF,GAAmC,mBAAdA,KAAgCA,GAAY,CAEjE,IAAIG,GAAc,SAAUC,GACxB,MAAOA,GAAEC,KAETC,EAAgB,SAAUF,GAC1B,MAAOA,GAAEG,MAGb,QASIG,OAAQ,SAAUF,GACd,MAAkB,mBAANA,GACDR,OAEXA,IAAcQ,IAGlBP,IAAK,WAED,GAAIA,GAAMJ,EAAYI,MAClB2B,KAEAC,EAAOtC,EAAaU,GACpB6B,EAAkBD,EAAKE,UAAW,SAAU3B,GAC5C,MAAOA,GAAEC,MAET2B,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQjC,KAER,IAAIW,GAAiBX,EAAIY,IAAK,SAAUT,EAAGU,EAAGC,GAE1C,GAAIqC,GAAUhD,EACViD,EAAUtC,EAAID,EAAI,GAClBwC,EAAO,CAEX,IAAKD,EAAU,CACX,GAAIE,GAAOjD,EAAe8C,GAAY9C,EAAe+C,EACrD,IAAc,IAATE,EAAa,CACd,GAAIC,GAAOD,EAAOjD,EAAe+C,EACjCC,GAAc,IAAPE,MAEPF,GAAO,EAIf,GAAI/B,IACAlB,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTkD,iBAAkBH,EAYtB,OATKtD,KACDuB,EAAUb,QACNgD,WAAcN,EAAQ/C,IACtBsD,aAAgBP,EAAQ7C,MACxBqD,WAAcP,EAAUA,EAAQhD,IAAM,OACtCwD,aAAgBR,EAAUA,EAAQ9C,MAAQ,SAI3CgB,GAGX,OAAOX,IAGXa,IAAK,WAED,GAAIxB,GAAMJ,EAAY4B,IAAIC,MAAO7B,EAAa8B,WAC1CC,KAEAC,EAAOtC,EAAaU,GACpB6B,EAAkBD,EAAKE,UAAW,SAAU3B,GAC5C,MAAOA,GAAEC,MAET2B,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUnC,EAAakC,GACvBE,EAAWjC,EAAe+B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQjC,KAER,IAAIW,GAAiBX,EAAIY,IAAK,SAAUT,GAEpC,GAMIyD,GANAT,EAAUhD,EACVkD,EAAO,EAEPZ,EAAeC,OAAOC,KAAMhB,GAAYiB,OACxCC,EAAeJ,EAAaK,QAAS5C,EAAaC,IAClD0D,EAAYpB,EAAcI,EAAe,EAG7C,IAAKgB,EAAY,CACb,GAAIC,GAAenC,EAAWkC,EAC9BD,GAAeE,EAAavB,OAE5B,IAAIe,GAAOjD,EAAe8C,GAAYS,CAEtC,IAAc,IAATN,EAAa,CACd,GAAIC,GAAOD,EAAOM,CAClBP,GAAc,IAAPE,MAEPF,GAAO,EAIf,GAAI/B,IACAlB,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTkD,iBAAkBH,EAYtB,OATKtD,KACDuB,EAAUb,QACNgD,WAAcN,EAAQ/C,IACtBsD,aAAgBP,EAAQ7C,MACxBqD,WAAcE,EAAYA,EAAY,OACtCD,aAAgBC,EAAYD,EAAe,SAI5CtC,GAGX,OAAOX,MAUXpB,EAAcF,GAAKA,EACnBE,EAAcD,YAAcA,EAErBC,EACP,GAAqB,kBAAXwE,SAAyBA,OAAOC,IACtCD,QAAQ,KAAM,eAAgB3E,OAC3B,IAAqB,gBAAX6E,SAAuBA,OAAOC,QAAS,CACpD,GAAIC,GAAMC,QAAQ,MACdC,EAAeD,QAAQ,cAMC,mBAAjBC,KACPA,EAAeA,EAAa/E,aAEhC2E,OAAOC,QAAU9E,EAAe+E,EAAKE,OAErCC,MAAK,kBAAoBlF,EAAeC,GAAIC"}