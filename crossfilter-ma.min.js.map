{"version":3,"file":"crossfilter-ma.min.js","sources":["crossfilter-ma.js"],"names":["_crossfilterMA","d3","crossfilter","crossfilterMA","version","constants","DEFAULT_MOVING_AVERAGE_NODES","accumulateGroupForNDayMovingAverage","sourceGroup","ndays","debugMode","all","Error","keyAccessor","d","key","valueAccessor","value","_","_debug","cumulate","accumulatedAll","map","i","arr","days","numsToAverage","thisCumulate","thisAverage","thisResult","targetDay","push","returnObj","rollingAverage","top","apply","arguments","fullDates","myDx","myDimensionDate","dimension","myGroupingOnDate","group","reducer","reduce","p","v","selDate","selValue","myValue","quantity","orderedDates","Object","keys","sort","thisDayIndex","indexOf","targetDayId","targetDayBlock","targetDayValue","accumulateGroupForPercentageChange","thisDay","prevDay","perc","diff","prop","percentageChange","thisDayKey","thisDayValue","prevDayKey","prevDayValue","prevDayId","prevDayBlock","define","amd","module","exports","_d3","require","_crossfilter","this"],"mappings":"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"}