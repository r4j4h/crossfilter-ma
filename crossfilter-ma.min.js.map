{"version":3,"file":"crossfilter-ma.min.js","sources":["crossfilter-ma.js"],"names":["_crossfilterMA","d3","crossfilter","crossfilterMA","version","constants","DEFAULT_MOVING_AVERAGE_NODES","accumulateGroupForNDayMovingAverage","sourceGroup","ndays","all","Error","keyAccessor","d","key","valueAccessor","value","_","cumulate","accumulatedAll","map","i","arr","days","numsToAverage","thisCumulate","thisAverage","thisResult","targetDay","push","rollingAverage","_debug","top","apply","arguments","fullDates","myDx","myDimensionDate","dimension","myGroupingOnDate","group","reducer","reduce","p","v","selDate","selValue","myValue","quantity","orderedDates","Object","keys","sort","thisDayIndex","indexOf","targetDayId","targetDayBlock","targetDayValue","accumulateGroupForPercentageChange","thisDay","prevDay","perc","diff","prop","percentageChange","thisDayKey","thisDayValue","prevDayKey","prevDayValue","prevDayId","prevDayBlock","define","amd","module","exports","_d3","require","_crossfilter","this"],"mappings":"CAkBA,WAAc,QAASA,GAAeC,EAAIC,GACtC,YASJ,IAAIC,KAEJA,GAAcC,QAAU,YAExBD,EAAcE,WACVC,6BAA8B,EAGlC,IAAIH,GAAgBA,KAapBA,GAAcI,oCAAsC,SAAUC,EAAaC,GACvE,IAAMD,IAAgBA,EAAYE,KAAkC,kBAApBF,GAAYE,IACxD,KAAM,IAAIC,OAAO,wCAIrBF,GAA2B,mBAAVA,GAA0BA,EAAQN,EAAcE,UAAUC,4BAE3E,IAAIM,GAAc,SAAUC,GACxB,MAAOA,GAAEC,KAETC,EAAgB,SAAUF,GAC1B,MAAOA,GAAEG,MAGb,QAQIP,MAAO,SAAUQ,GACb,MAAkB,mBAANA,GACDR,OAEXA,EAAQQ,IAGZP,IAAK,WACD,GAAIQ,GAAW,EACXR,EAAMF,EAAYE,MAClBS,EAAiBT,EAAIU,IAAK,SAAUP,EAAGQ,EAAGC,GAW1C,IARA,GAAIC,GAAOd,EAEPe,EAAgB,EAChBC,EAAe,EACfC,EAAc,EAEdC,OAEMJ,EAAO,GAAI,CACjB,GAAIK,GAAaN,EAAID,EAAIE,EACpBK,KAQDJ,IACAC,GAAgBG,EAAUZ,MAC1BW,EAAWE,MAAQf,IAAOc,EAAUd,IAAKE,MAASY,EAAUZ,SAapE,MARAQ,KACAC,GAAgBZ,EAAEG,MAElBE,GAAYL,EAAEG,MACdW,EAAWE,MAAQf,IAAOD,EAAEC,IAAKE,MAASH,EAAEG,QAE5CU,EAAcD,EAAeD,GAGzBV,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTc,eAAgBJ,EAChBK,QACIb,SAAYA,EACZS,WAAYA,KAKxB,OAAOR,IAGXa,IAAK,WACD,GAAId,GAAW,EACXR,EAAMF,EAAYwB,IAAIC,MAAOzB,EAAa0B,WAC1CC,KAEAC,EAAOlC,EAAaQ,GACpB2B,EAAkBD,EAAKE,UAAW,SAAUzB,GAC5C,MAAOA,GAAEC,MAETyB,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQ/B,KAER,IAAIS,GAAiBT,EAAIU,IAAK,SAAUP,GAcpC,IAZA,GAAIoC,GAAeC,OAAOC,KAAMhB,GAAYiB,OACxCC,EAAeJ,EAAaK,QAAS1C,EAAaC,IAGlDU,EAAOd,EAEPe,EAAgB,EAChBC,EAAe,EACfC,EAAc,EAEdC,OAEMJ,EAAO,GAAI,CAEjB,GAAIgC,GAAcN,EAAcI,EAAe9B,EAE/C,IAAKgC,EAAc,CACf,GAAIC,GAAiBrB,EAAWoB,GAC5BE,EAAiBD,EAAeT,OAEpCvB,KACAC,GAAgBgC,EAChB9B,EAAWE,MAAQf,IAAOyC,EAAavC,MAASyC,KAaxD,MATAjC,KACAC,GAAgBZ,EAAEG,MAGlBE,GAAYL,EAAEG,MACdW,EAAWE,MAAQf,IAAOD,EAAEC,IAAKE,MAASH,EAAEG,QAE5CU,EAAcD,EAAeD,GAGzBV,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTc,eAAgBJ,EAChBK,QACIb,SAAYA,EACZS,WAAYA,KAKxB,OAAOR,KAMnB,IAAIhB,GAAgBA,KAkMZ,OAtLRA,GAAcuD,mCAAqC,SAAUlD,GACzD,IAAMA,IAAgBA,EAAYE,KAAkC,kBAApBF,GAAYE,IACxD,KAAM,IAAIC,OAAO,wCAGrB,IAAIC,GAAc,SAAUC,GACxB,MAAOA,GAAEC,KAETC,EAAgB,SAAUF,GAC1B,MAAOA,GAAEG,MAGb,QAEIN,IAAK,WAED,GAAIA,GAAMF,EAAYE,MAClByB,KAEAC,EAAOlC,EAAaQ,GACpB2B,EAAkBD,EAAKE,UAAW,SAAUzB,GAC5C,MAAOA,GAAEC,MAETyB,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQ/B,KAER,IAAIS,GAAiBT,EAAIU,IAAK,SAAUP,EAAGQ,EAAGC,GAE1C,GAAIqC,GAAU9C,EACV+C,EAAUtC,EAAID,EAAI,GAClBwC,EAAO,CAEX,IAAKD,EAAU,CACX,GAAIE,GAAO/C,EAAe4C,GAAY5C,EAAe6C,EACrD,IAAc,IAATE,EAAa,CACd,GAAIC,GAAOD,EAAO/C,EAAe6C,EACjCC,GAAc,IAAPE,MAEPF,GAAO,EAIf,OACI/C,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTgD,iBAAkBH,EAClB9B,QACIkC,WAAcN,EAAQ7C,IACtBoD,aAAgBP,EAAQ3C,MACxBmD,WAAcP,EAAUA,EAAQ9C,IAAM,OACtCsD,aAAgBR,EAAUA,EAAQ5C,MAAQ,UAKtD,OAAOG,IAGXa,IAAK,WAED,GAAItB,GAAMF,EAAYwB,IAAIC,MAAOzB,EAAa0B,WAC1CC,KAEAC,EAAOlC,EAAaQ,GACpB2B,EAAkBD,EAAKE,UAAW,SAAUzB,GAC5C,MAAOA,GAAEC,MAETyB,EAAmBF,EAAgBG,QAEnCC,EAAUF,EAAiBG,OAC3B,SAAWC,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAS9B,OAPKT,GAAWU,GACZV,EAAWU,GAAUE,SAAWD,EAEhCX,EAAWU,IACPE,QAASD,GAGVH,GAEX,SAAWA,EAAGC,GACV,GAAIC,GAAUjC,EAAagC,GACvBE,EAAW/B,EAAe6B,EAO9B,OALKT,GAAWU,GACZV,EAAWU,GAAUG,UAAYF,QAE1BX,GAAWU,GAEfF,GAEX,WACIR,MAIRM,GAAQ/B,KAER,IAAIS,GAAiBT,EAAIU,IAAK,SAAUP,GAEpC,GAMIuD,GANAT,EAAU9C,EACVgD,EAAO,EAEPZ,EAAeC,OAAOC,KAAMhB,GAAYiB,OACxCC,EAAeJ,EAAaK,QAAS1C,EAAaC,IAClDwD,EAAYpB,EAAcI,EAAe,EAG7C,IAAKgB,EAAY,CACb,GAAIC,GAAenC,EAAWkC,EAC9BD,GAAeE,EAAavB,OAE5B,IAAIe,GAAO/C,EAAe4C,GAAYS,CAEtC,IAAc,IAATN,EAAa,CACd,GAAIC,GAAOD,EAAOM,CAClBP,GAAc,IAAPE,MAEPF,GAAO,EAIf,OACI/C,IAAKD,EAAEC,IACPE,MAAOH,EAAEG,MACTgD,iBAAkBH,EAClB9B,QACIkC,WAAcN,EAAQ7C,IACtBoD,aAAgBP,EAAQ3C,MACxBmD,WAAcE,EAAYA,EAAY,OACtCD,aAAgBC,EAAYD,EAAe,UAKvD,OAAOjD,MAUXhB,EAAcF,GAAKA,EACnBE,EAAcD,YAAcA,EAErBC,EACP,GAAqB,kBAAXoE,SAAyBA,OAAOC,IACtCD,QAAQ,KAAM,eAAgBvE,OAC3B,IAAqB,gBAAXyE,SAAuBA,OAAOC,QAAS,CACpD,GAAIC,GAAMC,QAAQ,MACdC,EAAeD,QAAQ,cAMC,mBAAjBC,KACPA,EAAeA,EAAa3E,aAEhCuE,OAAOC,QAAU1E,EAAe2E,EAAKE,OAErCC,MAAK,kBAAoB9E,EAAeC,GAAIC"}