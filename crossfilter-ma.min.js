!function(){function a(a,b){"use strict";var c={version:"1.0.0-dev",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};c["crossfilter-ma"]=function(){return"hello world"};var c=c||{};c.average=function(){};var c=c||{};return c.accumulateGroupForNDayMovingAverage=function(a,b){return{all:function(){var c=0,d=[],e=a.all();console.log("test",a,e);var f=e.map(function(a,e,f){for(var g=b-1,h=0,i=0,j=0,k=0,l=[];h++<g;){var m=f[e-h];m&&(i++,j+=m.value,l.push({key:m.key,value:m.value}))}return i++,j+=a.value,k=j/i,c+=a.value,l.push({key:a.key,value:a.value}),d.push({key:a.key,value:a.value}),{key:a.key,value:k,debug:{cumulate:c,thisResult:l,result:d}}});return f},top:function(){var b=0,c=[];return a.top.apply(a,arguments).map(function(a){return console.log(this,arguments),b+=a.value,c.push({key:a.key,value:a.value}),{key:a.key,value:{cumulate:b,result:c}}})}}},c.accumulateGroupFor2DayMovingAverage=function(a){return c.accumulateGroupForNDayMovingAverage(a,2)},c.d3=a,c.crossfilter=b,c}if("function"==typeof define&&define.amd)define(["d3","crossfilter"],a);else if("object"==typeof module&&module.exports){var b=require("d3"),c=require("crossfilter");"function"!=typeof c&&(c=c.crossfilter),module.exports=a(b,c)}else this["crossfilter-ma"]=a(d3,crossfilter)}();
//# sourceMappingURL=crossfilter-ma.min.js.map