!function(){function a(a,b){"use strict";var c={version:"1.0.0-dev",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};return c["crossfilter-ma"]=function(){return"hello world"},c.average=function(){},c.calculateRollingAverage=function(a,b){b="undefined"!=typeof b?b:2;var c=[];return c},c.accumulate_group_for_nday_moving_average=function(a,c){return{all:function(){var d=0,e=[],f=a.all();console.log("test",a,f);var g=f.map(function(a,g,h){var i=c-1,j=0,k=0,l=0,m=0,n=[],o=b(f);for(o.dimension(function(a){return a.key});j++<i;){var p=h[g-j];p&&(k++,l+=p.value,n.push({key:p.key,value:p.value}))}return k++,l+=a.value,m=l/k,d+=a.value,n.push({key:a.key,value:a.value}),e.push({key:a.key,value:a.value}),{key:a.key,value:m,debug:{cumulate:d,thisResult:n,result:e}}});return g},top:function(){var b=0,c=[];return a.top.apply(a,arguments).map(function(a){return console.log(this,arguments),b+=a.value,c.push({key:a.key,value:a.value}),{key:a.key,value:{cumulate:b,result:c}}})}}},c.accumulate_group_for_2day_moving_average=function(a){return c.accumulate_group_for_nday_moving_average(a,2)},c.d3=a,c.crossfilter=b,c}if("function"==typeof define&&define.amd)define(["d3","crossfilter"],a);else if("object"==typeof module&&module.exports){var b=require("d3"),c=require("crossfilter");"function"!=typeof c&&(c=c.crossfilter),module.exports=a(b,c)}else this["crossfilter-ma"]=a(d3,crossfilter)}();
//# sourceMappingURL=crossfilter-ma.min.js.map